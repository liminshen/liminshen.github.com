<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="file" id="file" accept="image/*">
	<img src="" alt="">
	<script>
		function dir(objImg) {
			var naW = objImg.naturalWidth,
				naH = objImg.naturalHeight;
			var d = naW - naH;
			var result = {};
			if(d>0){
				result.size = [naH,naH];
				result.point = [Math.abs(d/2),0];
			}else{
				result.size = [naW,naW];
				result.point = [0,Math.abs(d/2)];
			}
			result.size = result.size.join('*');
			result.point = '+'+result.point.join('+');
			return result;
		}
		var reader = new FileReader();
		var img = document.querySelector('img');
		reader.addEventListener('load',function (e) {
			img.src = e.currentTarget.result;
			img.onload = function () {
				var result = dir(img);
				console.log(result);
			}
			img.style.height = '300px';
			img.style.width = '300px';
		},false);
		reader.addEventListener('loadend',function () {
			console.log('end')
		})
		var file = document.querySelector('#file');
		file.addEventListener('change',function (ev) {
			var files = ev.target.files[0];
				reader.readAsDataURL(files);
		});
	</script>
</body>
</html>